<div style="width: 50%; margin:auto">
  <div>
    <mat-toolbar *ngIf="currentFile" class="progress-bar">
      <mat-progress-bar [value]="progress" color="accent"></mat-progress-bar>
      <span class="progress">{{ progress }}%</span>
    </mat-toolbar>

    <mat-form-field style="width: 100%;">
      <div>
        <mat-toolbar>
          <input [value]="fileName" matInput/>

          <button
            (click)="upload()"
            [disabled]="!currentFile"
            color="primary"
            mat-flat-button
          >
            Upload
          </button>
        </mat-toolbar>

        <input
          (change)="selectFile($event)"
          id="fileInput"
          name="fileInput"
          type="file"
        />
      </div>
    </mat-form-field>
  </div>

  <div *ngIf="message" class="message">
    {{ message }}
  </div>

  <mat-card class="example-card">
    <mat-card-header>
      <mat-card-title>List of Files</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-list role="list">
        <mat-list-item *ngFor="let file of fileInfos | async" role="listitem">
          <a href="{{ file.url }}">{{ file.name }}</a>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
